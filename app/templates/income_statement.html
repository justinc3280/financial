{% extends "base.html" %}

{% block content %}
  <div>
    <nav>
      <a href={{ url_for('balance_sheet') }}>Balance Sheet</a> |
      <a href={{ url_for('income_statement') }}>Income Statement</a> |
      <a href={{ url_for('cash_flow') }}>Statement of Cash Flow</a>
    </nav>
  </div>

  <select id="select-month">
    {% for month_num, month_name in month_choices %}
      <option value="{{month_num}}" {% if month_num == 0 %}disabled{% endif %}>{{ month_name }}</option>
    {% endfor %}
  </select>
  <a class="btn btn-sm btn-info" id="navigate_to_month" href="#">View</a>

  <table class="table table-responsive">
    <thead>
      <tr>
      <th></th>
      {% for _, month_name in month_choices[1:] %}
        <th>{{ month_name }}</th>
      {% endfor %}
      </tr>
    </thead>
  {% for category, sub_categories in categories.items() recursive %}
    {% if category != total_object and sub_categories[total_object][0] != 0 %}
      <tr>
        <td>{{ category.name }}</td>
        {% for total in sub_categories[total_object] %}
          <td>{{ total | money(show_as_positive=True) }}</td>
        {% endfor %}
      </tr>
    {% endif %}

    {% if sub_categories is mapping %}
      {{ loop(sub_categories.items()) }}
    {% endif %}
  {% endfor %}
  </table>


  <h2>Total</h2>
    <ul>
      <li>Income After Taxes: {{ income_after_taxes | money }}</li>
      <li>Net Income: {{ net_income | money }}</li>
    </ul>
{% endblock %}
